option_settings:
  # Environment variables configuration
  aws:elasticbeanstalk:application:environment:
    # The ANTHROPIC_API_KEY will be set manually in the EB console or via secrets manager
    # DO NOT commit the actual API key to the repository
    ANTHROPIC_API_KEY: "PLACEHOLDER_SET_IN_EB_CONSOLE"
    
    # Application configuration
    SPRING_PROFILES_ACTIVE: production
    SERVER_PORT: 5000
    
    # Java memory settings for t3.micro (1GB RAM)
    JAVA_OPTS: "-Xmx512m -Xms256m"
    
    # Logging configuration
    LOG_LEVEL: INFO
    
# Commands to run on instance
commands:
  01_check_java:
    command: "java -version"
    
  02_check_env:
    command: "printenv | grep -E '(JAVA|ANTHROPIC)' | sed 's/ANTHROPIC_API_KEY=.*/ANTHROPIC_API_KEY=***HIDDEN***/'"